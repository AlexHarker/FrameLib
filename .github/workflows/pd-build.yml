name: pd-github
on: push
jobs:
  pd-build-mac:
    if: ${{ false }}  # disable for now
    runs-on: macos-latest
    steps:
      - name: Checkout main repo
        uses: actions/checkout@v3
        with:
          path: "framelib"
      - name: Build mac pd binary
        run: | 
             cd framelib/FrameLib_PD_Objects/
             make
  pd-build-linux:
    runs-on: ubuntu-latest
    if: ${{ false }}  # disable for now
#    strategy: 
#        matrix:
#            architectures: [ i686, x86_64, arm, aarch64]
    steps:
      - name: Checkout main repo
        uses: actions/checkout@v3
        with:
          path: "framelib"
      - name: Build linux pd binary
        run: |
             man ld
             cd framelib/FrameLib_PD_Objects/
             make
  pd-build-win:
    runs-on: windows-2019
    steps:
      - name: Set up MinGW
        uses: egor-tensin/setup-mingw@v2
        with:
          platform: x64
      - name: Checkout main repo
        uses: actions/checkout@v3
        with:
          path: "framelib"
      - name: Build win pd binary
        shell: bash
        run: |
             ld --help 
             cd framelib/FrameLib_PD_Objects/
             make
             
    
